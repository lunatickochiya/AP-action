From d19a44419245f30add0c8074db000ff186e8aade Mon Sep 17 00:00:00 2001
From: lunatickochiya <55731491+lunatickochiya@users.noreply.github.com>
Date: Fri, 2 Jan 2026 12:58:58 +0800
Subject: [PATCH 7/7] luci-app-upnp:add force_forwarding

---
 .../htdocs/luci-static/resources/view/upnp/upnp.js          | 3 +++
 applications/luci-app-upnp/po/zh_Hans/upnp.po               | 6 ++++++
 2 files changed, 9 insertions(+)

diff --git a/applications/luci-app-upnp/htdocs/luci-static/resources/view/upnp/upnp.js b/applications/luci-app-upnp/htdocs/luci-static/resources/view/upnp/upnp.js
index 7849fc0919..d4aab57074 100644
--- a/applications/luci-app-upnp/htdocs/luci-static/resources/view/upnp/upnp.js
+++ b/applications/luci-app-upnp/htdocs/luci-static/resources/view/upnp/upnp.js
@@ -215,6 +215,9 @@ return view.extend({
 		o.depends('to-disable-as-rarely-used', '1');
 		o.retain = true;
 
+		s.taboption('advanced', form.Flag, 'force_forwarding', _('Force Forwarding'),
+			_('Force forwarding even there is no public IP (please try STUN first)'))
+
 		o = s.taboption('igd', form.Value, 'download_kbps', _('Download speed'),
 			_('Report maximum connection speed in kbit/s'));
 		o.datatype = 'uinteger';
diff --git a/applications/luci-app-upnp/po/zh_Hans/upnp.po b/applications/luci-app-upnp/po/zh_Hans/upnp.po
index 7c33d7e988..de16773b0b 100644
--- a/applications/luci-app-upnp/po/zh_Hans/upnp.po
+++ b/applications/luci-app-upnp/po/zh_Hans/upnp.po
@@ -260,3 +260,9 @@ msgstr "上行带宽"
 msgctxt "Use %s (%s = STUN)"
 msgid "Use %s"
 msgstr "使用 %s"
+
+msgid "Force Forwarding"
+msgstr "强制转发"
+
+msgid "Force forwarding even there is no public IP (please try STUN first)"
+msgstr "就算没有公网IP也进行转发（请先尝试STUN）"
-- 
2.52.0.windows.1

